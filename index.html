
<html>
  <body>
	<h1> Drag to download the picture to your desktop </h1>
	<a draggable="true" id="innocent" href="cat.jpg">
	  <img style="width:400px;height:400px" src="cat.jpg">
	</a>
	<script>
	  document.getElementById("innocent").addEventListener("dragstart",
	  function(event) {
		var url = document.URL.slice(0, document.URL.lastIndexOf('/') + 1) + "cat.jpg";
		event.dataTransfer.setData("DownloadURL",
		"application/octet-stream:cat.jpg:" + url);
	  }
	  , false);
	</script>

	<h1> Drag to download the picture to your desktop (Data URI)</h1>
	<a draggable="true" id="innocentdata" href="cat.jpg">
	  <img style="width:400px;height:400px" src="cat.jpg">
	</a>
	<script>
	  document.getElementById("innocentdata").addEventListener("dragstart",
	  function(event) {
		const url ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==";
		event.dataTransfer.setData("DownloadURL", "application/octet-stream:cat.jpg:" + url);
	  }
	  , false);
	</script>
  </body>
</html>

